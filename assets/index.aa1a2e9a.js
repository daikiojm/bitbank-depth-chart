var V=Object.defineProperty,j=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var C=(t,i,n)=>i in t?V(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,p=(t,i)=>{for(var n in i||(i={}))D.call(i,n)&&C(t,n,i[n]);if(f)for(var n of f(i))w.call(i,n)&&C(t,n,i[n]);return t},g=(t,i)=>j(t,B(i));var L=(t,i)=>{var n={};for(var s in t)D.call(t,s)&&i.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&f)for(var s of f(t))i.indexOf(s)<0&&w.call(t,s)&&(n[s]=t[s]);return n};import{c as M,j as e,d as T,a as l,T as N,C as H,G as F,B as m,A as G,b as z,I as $,e as q,f as d,g as X,r as h,R as A,F as K,H as U,h as Y,i as u,L as k,k as J,l as v,m as P,n as E,o as I,p as O,q as S,D as Q,s as Z,t as ee,u as te}from"./vendor.b8f377dc.js";const ie=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}};ie();const re=M({typography:{fontSize:12}}),ne=({children:t})=>e(T.WebsocketProvider,{children:l(N,{theme:re,children:[e(H,{}),e(F,{styles:{ul:{paddingLeft:0,marginTop:0}}}),t]})}),oe=({onClickMenu:t})=>e(m,{sx:{flexGrow:1},children:e(G,{position:"static",children:l(z,{children:[e($,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:t,children:e(q,{})}),l(d,{variant:"h6",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:["Depth Chart",e(d,{variant:"h6",sx:{ml:1,display:"inline-block"},children:"- bitbank.cc"})]}),e(X,{color:"inherit",onClick:()=>{window.location.reload()},children:"Refresh"})]})})}),_=0,x=1,se=1200,ae="btc_jpy",y={title:void 0,chart:{height:500},loading:{hideDuration:300,showDuration:300},xAxis:{minPadding:0,maxPadding:0,plotLines:[{color:"#888",value:.1523,width:1,label:{text:"Actual price",rotation:90}}],title:{text:"Price"}},yAxis:[{lineWidth:1,gridLineWidth:1,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"left",x:8}},{opposite:!0,linkedTo:0,lineWidth:1,gridLineWidth:0,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"right",x:-8}}],legend:{enabled:!1},plotOptions:{area:{fillOpacity:.2,lineWidth:1,step:"center"}},tooltip:{headerFormat:'<span style="font-size=10px;">Price: {point.key}</span><br/>',valueDecimals:2},series:[{name:"Bids",type:"area",data:[],color:"#03a7a8"},{name:"Asks",type:"area",data:[],color:"#fc5857"}]},le=()=>{const t=T.useDepth(ae,200),i=h.exports.useRef(null),[n,s]=A.useState(!1),o=h.exports.useMemo(()=>t.asks.reduce((r,c)=>{const b={price:+c[_],volume:+c[x],stackedVolume:r.length>0?r[r.length-1].stackedVolume+ +c[x]:0};return[...r,b]},[]),[t.asks]),a=h.exports.useMemo(()=>t.bids.reduce((r,c)=>{const b={price:+c[_],volume:+c[x],stackedVolume:r.length>0?r[r.length-1].stackedVolume+ +c[x]:0};return[...r,b]},[]),[t.bids]);return h.exports.useEffect(()=>{const r=setTimeout(()=>s(!0),se);return()=>clearTimeout(r)},[]),h.exports.useEffect(()=>{i.current&&i.current.chart.update({series:[g(p({},y.series[0]),{data:a.map(r=>[+r.price,+r.stackedVolume])}),g(p({},y.series[1]),{data:o.map(r=>[+r.price,+r.stackedVolume])})]})},[o,a]),e(m,{sx:{display:"flex"},children:e(K,{in:n,mountOnEnter:!1,children:e(m,{sx:{width:"100%"},children:e(U,{ref:i,highcharts:Y,options:y})})})})},R=()=>e(d,{sx:{mx:1,color:u[600],display:"inline-block"},children:"/"}),ce=i=>{var t=L(i,[]);return e(m,g(p({},t),{sx:p({p:4,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",height:120,backgroundColor:u[50],borderTop:`1px solid ${u[200]}`},t.sx),children:l(m,{sx:{m:"auto",textAlign:"center"},children:[e(k,{href:"https://github.com/daikiojm/bitbank-depth-chart",target:"_blank",children:e(d,{sx:{textAlign:"center",color:u[600],display:"inline-block"},children:"View Code on GitHub"})}),e(R,{}),e(k,{href:"https://github.com/daikiojm",target:"_blank",children:e(d,{sx:{textAlign:"center",color:u[600],display:"inline-block"},children:"@daikiojm"})}),e(R,{}),e(k,{href:"http://app.bitbank.cc/",target:"_blank",children:e(d,{sx:{textAlign:"center",color:u[600],display:"inline-block"},children:"bitbank.cc"})})]})}))},de=()=>l(J,{children:[e(v,{children:["Inbox","Starred","Send email","Drafts"].map((t,i)=>l(P,{button:!0,children:[e(E,{children:i%2==0?e(I,{}):e(O,{})}),e(S,{primary:t})]},t))}),e(Q,{}),e(v,{children:["All mail","Trash","Spam"].map((t,i)=>l(P,{button:!0,children:[e(E,{children:i%2==0?e(I,{}):e(O,{})}),e(S,{primary:t})]},t))})]}),W=240;function he(){const[t,i]=h.exports.useState(!1);return l(ne,{children:[e(oe,{onClickMenu:()=>{i(!0)}}),e(Z,{sx:{width:W,flexShrink:0,"& .MuiDrawer-paper":{width:W,boxSizing:"border-box"}},variant:"temporary",anchor:"left",onClose:()=>{i(!1)},open:t,children:e(de,{})}),e(ee,{sx:{pt:2,mb:"auto",flex:1},children:e(le,{})}),e(ce,{sx:{position:"absolute",bottom:0}})]})}te.render(e(A.StrictMode,{children:e(he,{})}),document.getElementById("root"));
