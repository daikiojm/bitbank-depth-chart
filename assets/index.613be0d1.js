var V=Object.defineProperty,j=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var L=(t,i,r)=>i in t?V(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r,p=(t,i)=>{for(var r in i||(i={}))D.call(i,r)&&L(t,r,i[r]);if(f)for(var r of f(i))C.call(i,r)&&L(t,r,i[r]);return t},x=(t,i)=>j(t,B(i));var T=(t,i)=>{var r={};for(var s in t)D.call(t,s)&&i.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&f)for(var s of f(t))i.indexOf(s)<0&&C.call(t,s)&&(r[s]=t[s]);return r};import{c as H,j as e,d as A,a as l,T as M,C as N,G as F,B as m,A as G,b as z,I as $,e as q,f as h,g as X,r as c,R as w,h as K,F as U,H as Y,i as J,k as u,L as k,l as Q,m as v,n as P,o as E,p as I,q as R,s as _,D as Z,t as ee,u as te,v as ie}from"./vendor.7f4ba834.js";const re=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}};re();const ne=H({typography:{fontSize:12}}),oe=({children:t})=>e(A.WebsocketProvider,{children:l(M,{theme:ne,children:[e(N,{}),e(F,{styles:{ul:{paddingLeft:0,marginTop:0}}}),t]})}),se=({onClickMenu:t})=>e(m,{sx:{flexGrow:1},children:e(G,{position:"static",children:l(z,{children:[e($,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:t,children:e(q,{})}),l(h,{variant:"h6",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:["Depth Chart",e(h,{variant:"h6",sx:{ml:1,display:"inline-block"},children:"- bitbank.cc"})]}),e(X,{color:"inherit",onClick:()=>{window.location.reload()},children:"Refresh"})]})})}),S=0,b=1,ae=1200,le="btc_jpy",y={title:void 0,chart:{height:500},loading:{hideDuration:300,showDuration:300},xAxis:{minPadding:0,maxPadding:0,plotLines:[{color:"#888",value:.1523,width:1,label:{text:"Actual price",rotation:90}}],title:{text:"Price"}},yAxis:[{lineWidth:1,gridLineWidth:1,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"left",x:8}},{opposite:!0,linkedTo:0,lineWidth:1,gridLineWidth:0,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"right",x:-8}}],legend:{enabled:!1},plotOptions:{area:{fillOpacity:.2,lineWidth:1,step:"center"}},tooltip:{headerFormat:'<span style="font-size=10px;">Price: {point.key}</span><br/>',valueDecimals:2},series:[{name:"Bids",type:"area",data:[],color:"#03a7a8"},{name:"Asks",type:"area",data:[],color:"#fc5857"}]},ce=()=>{const t=A.useDepth(le,200),i=c.exports.useRef(null),[r,s]=w.useState(!1),o=c.exports.useMemo(()=>t.asks.reduce((n,d)=>{const g={price:+d[S],volume:+d[b],stackedVolume:n.length>0?n[n.length-1].stackedVolume+ +d[b]:0};return[...n,g]},[]),[t.asks]),a=c.exports.useMemo(()=>t.bids.reduce((n,d)=>{const g={price:+d[S],volume:+d[b],stackedVolume:n.length>0?n[n.length-1].stackedVolume+ +d[b]:0};return[...n,g]},[]),[t.bids]);return c.exports.useEffect(()=>{const n=setTimeout(()=>s(!0),ae);return()=>clearTimeout(n)},[]),c.exports.useEffect(()=>{i.current&&i.current.chart.update({series:[x(p({},y.series[0]),{data:a.map(n=>[+n.price,+n.stackedVolume])}),x(p({},y.series[1]),{data:o.map(n=>[+n.price,+n.stackedVolume])})]})},[o,a]),l(m,{sx:{display:"flex"},children:[!r&&e(K,{sx:{position:"absolute",top:"50%",left:"50%",marginLeft:"-20px"}}),e(U,{in:r,mountOnEnter:!1,children:e(m,{sx:{width:"100%"},children:e(Y,{ref:i,highcharts:J,options:y})})})]})},W=()=>e(h,{sx:{mx:1,color:u[600],display:"inline-block"},children:"/"}),de=i=>{var t=T(i,[]);return e(m,x(p({},t),{sx:p({p:4,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",height:120,backgroundColor:u[50],borderTop:`1px solid ${u[200]}`},t.sx),children:l(m,{sx:{m:"auto",textAlign:"center"},children:[e(k,{href:"https://github.com/daikiojm/bitbank-depth-chart",target:"_blank",children:e(h,{sx:{textAlign:"center",color:u[600],display:"inline-block"},children:"View Code on GitHub"})}),e(W,{}),e(k,{href:"https://github.com/daikiojm",target:"_blank",children:e(h,{sx:{textAlign:"center",color:u[600],display:"inline-block"},children:"@daikiojm"})}),e(W,{}),e(k,{href:"http://app.bitbank.cc/",target:"_blank",children:e(h,{sx:{textAlign:"center",color:u[600],display:"inline-block"},children:"bitbank.cc"})})]})}))},he=()=>l(Q,{children:[e(v,{children:["Inbox","Starred","Send email","Drafts"].map((t,i)=>l(P,{button:!0,children:[e(E,{children:i%2==0?e(I,{}):e(R,{})}),e(_,{primary:t})]},t))}),e(Z,{}),e(v,{children:["All mail","Trash","Spam"].map((t,i)=>l(P,{button:!0,children:[e(E,{children:i%2==0?e(I,{}):e(R,{})}),e(_,{primary:t})]},t))})]}),O=240;function ue(){const[t,i]=c.exports.useState(!1),r=c.exports.useCallback(()=>{i(!0)},[i]),s=c.exports.useCallback(()=>{i(!1)},[i]);return l(oe,{children:[e(se,{onClickMenu:r}),e(ee,{sx:{width:O,flexShrink:0,"& .MuiDrawer-paper":{width:O,boxSizing:"border-box"}},variant:"temporary",anchor:"left",onClose:s,open:t,children:e(he,{})}),e(te,{sx:{pt:2,mb:"auto",flex:1},children:e(ce,{})}),e(de,{sx:{position:"absolute",bottom:0}})]})}ie.render(e(w.StrictMode,{children:e(ue,{})}),document.getElementById("root"));
