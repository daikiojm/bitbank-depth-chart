var D=Object.defineProperty,W=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var P=(e,n,o)=>n in e?D(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,a=(e,n)=>{for(var o in n||(n={}))y.call(n,o)&&P(e,o,n[o]);if(f)for(var o of f(n))A.call(n,o)&&P(e,o,n[o]);return e},h=(e,n)=>W(e,O(n));var L=(e,n)=>{var o={};for(var l in e)y.call(e,l)&&n.indexOf(l)<0&&(o[l]=e[l]);if(e!=null&&f)for(var l of f(e))n.indexOf(l)<0&&A.call(e,l)&&(o[l]=e[l]);return o};import{c as j,j as t,d as v,a as p,T as w,C as V,G as _,B as u,A as B,b as E,I as R,e as I,f as c,g as N,r as m,H as S,h as H,i as d,L as b,k as M,R as G,l as z}from"./vendor.3f667b08.js";const F=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}};F();const X=j({typography:{fontSize:12}}),q=({children:e})=>t(v.WebsocketProvider,{children:p(w,{theme:X,children:[t(V,{}),t(_,{styles:{ul:{paddingLeft:0,marginTop:0}}}),e]})}),K=()=>t(u,{sx:{flexGrow:1},children:t(B,{position:"static",children:p(E,{children:[t(R,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:t(I,{})}),p(c,{variant:"h6",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:["Depth Chart",t(c,{variant:"h6",sx:{ml:1,display:"inline-block"},children:"- bitbank.cc"})]}),t(N,{color:"inherit",onClick:()=>{window.location.reload()},children:"Refresh"})]})})}),T=0,g=1,U="btc_jpy",k={title:void 0,chart:{height:500},xAxis:{minPadding:0,maxPadding:0,plotLines:[{color:"#888",value:.1523,width:1,label:{text:"Actual price",rotation:90}}],title:{text:"Price"}},yAxis:[{lineWidth:1,gridLineWidth:1,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"left",x:8}},{opposite:!0,linkedTo:0,lineWidth:1,gridLineWidth:0,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"right",x:-8}}],legend:{enabled:!1},plotOptions:{area:{fillOpacity:.2,lineWidth:1,step:"center"}},tooltip:{headerFormat:'<span style="font-size=10px;">Price: {point.key}</span><br/>',valueDecimals:2},series:[{name:"Bids",type:"area",data:[],color:"#03a7a8"},{name:"Asks",type:"area",data:[],color:"#fc5857"}]},$=()=>{const e=v.useDepth(U,200),[n,o]=m.exports.useState(k),l=m.exports.useMemo(()=>e.asks.reduce((i,s)=>{const x={price:+s[T],volume:+s[g],stackedVolume:i.length>0?i[i.length-1].stackedVolume+ +s[g]:0};return[...i,x]},[]),[e.asks]),r=m.exports.useMemo(()=>e.bids.reduce((i,s)=>{const x={price:+s[T],volume:+s[g],stackedVolume:i.length>0?i[i.length-1].stackedVolume+ +s[g]:0};return[...i,x]},[]),[e.bids]);return m.exports.useEffect(()=>{o(i=>h(a({},i),{series:[h(a({},k.series[0]),{data:r.map(s=>[+s.price,+s.stackedVolume])}),h(a({},k.series[1]),{data:l.map(s=>[+s.price,+s.stackedVolume])})]}))},[l,r]),t(u,{sx:{display:"flex"},children:t(u,{sx:{width:"100%"},children:t(S,{highcharts:H,options:n})})})},C=()=>t(c,{sx:{mx:1,color:d[600],display:"inline-block"},children:"/"}),J=n=>{var e=L(n,[]);return t(u,h(a({},e),{sx:a({p:4,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",height:120,backgroundColor:d[50],borderTop:`1px solid ${d[200]}`},e.sx),children:p(u,{sx:{m:"auto",textAlign:"center"},children:[t(b,{href:"https://github.com/daikiojm/bitbank-depth-chart",target:"_blank",children:t(c,{sx:{textAlign:"center",color:d[600],display:"inline-block"},children:"View Code on GitHub"})}),t(C,{}),t(b,{href:"https://github.com/daikiojm",target:"_blank",children:t(c,{sx:{textAlign:"center",color:d[600],display:"inline-block"},children:"@daikiojm"})}),t(C,{}),t(b,{href:"http://app.bitbank.cc/",target:"_blank",children:t(c,{sx:{textAlign:"center",color:d[600],display:"inline-block"},children:"bitbank.cc"})})]})}))};function Q(){return p(q,{children:[t(K,{}),t(M,{sx:{pt:2,mb:"auto",flex:1},children:t($,{})}),t(J,{sx:{position:"absolute",bottom:0}})]})}G.render(t(z.StrictMode,{children:t(Q,{})}),document.getElementById("root"));
