var P=Object.defineProperty,v=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var x=(t,i,r)=>i in t?P(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r,l=(t,i)=>{for(var r in i||(i={}))T.call(i,r)&&x(t,r,i[r]);if(g)for(var r of g(i))W.call(i,r)&&x(t,r,i[r]);return t},c=(t,i)=>v(t,L(i));import{c as A,j as n,d as y,a as d,T as O,C as D,G as B,B as f,A as C,b as E,I as R,e as V,f as k,g as w,r as h,H as I,h as N,i as S,R as M,k as _}from"./vendor.a43be9a0.js";const j=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const e of s)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const e={};return s.integrity&&(e.integrity=s.integrity),s.referrerpolicy&&(e.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?e.credentials="include":s.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(s){if(s.ep)return;s.ep=!0;const e=r(s);fetch(s.href,e)}};j();const H=A({typography:{fontSize:12}}),G=({children:t})=>n(y.WebsocketProvider,{children:d(O,{theme:H,children:[n(D,{}),n(B,{styles:{ul:{paddingLeft:0,marginTop:0}}}),t]})}),z=()=>n(f,{sx:{flexGrow:1},children:n(C,{position:"static",children:d(E,{children:[n(R,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:n(V,{})}),d(k,{variant:"h6",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:["Depth Chart",n(k,{variant:"h6",sx:{ml:1,display:"inline-block"},children:"- bitbank.cc"})]}),n(w,{color:"inherit",onClick:()=>{window.location.reload()},children:"Refresh"})]})})}),b=0,p=1,F="btc_jpy",m={title:void 0,chart:{height:500},xAxis:{minPadding:0,maxPadding:0,plotLines:[{color:"#888",value:.1523,width:1,label:{text:"Actual price",rotation:90}}],title:{text:"Price"}},yAxis:[{lineWidth:1,gridLineWidth:1,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"left",x:8}},{opposite:!0,linkedTo:0,lineWidth:1,gridLineWidth:0,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"right",x:-8}}],legend:{enabled:!1},plotOptions:{area:{fillOpacity:.2,lineWidth:1,step:"center"}},tooltip:{headerFormat:'<span style="font-size=10px;">Price: {point.key}</span><br/>',valueDecimals:2},series:[{name:"Bids",type:"area",data:[],color:"#03a7a8"},{name:"Asks",type:"area",data:[],color:"#fc5857"}]},X=()=>{const t=y.useDepth(F,200),[i,r]=h.exports.useState(m),a=h.exports.useMemo(()=>t.asks.reduce((e,o)=>{const u={price:+o[b],volume:+o[p],stackedVolume:e.length>0?e[e.length-1].stackedVolume+ +o[p]:0};return[...e,u]},[]),[t.asks]),s=h.exports.useMemo(()=>t.bids.reduce((e,o)=>{const u={price:+o[b],volume:+o[p],stackedVolume:e.length>0?e[e.length-1].stackedVolume+ +o[p]:0};return[...e,u]},[]),[t.bids]);return h.exports.useEffect(()=>{r(e=>c(l({},e),{series:[c(l({},m.series[0]),{data:s.map(o=>[+o.price,+o.stackedVolume])}),c(l({},m.series[1]),{data:a.map(o=>[+o.price,+o.stackedVolume])})]}))},[a,s]),n(f,{sx:{display:"flex"},children:n(f,{sx:{width:"100%"},children:n(I,{highcharts:N,options:i})})})};function q(){return d(G,{children:[n(z,{}),n(S,{sx:{pt:2},children:n(X,{})})]})}M.render(n(_.StrictMode,{children:n(q,{})}),document.getElementById("root"));
