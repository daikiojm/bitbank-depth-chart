var x=Object.defineProperty,b=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var m=(s,t,r)=>t in s?x(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,l=(s,t)=>{for(var r in t||(t={}))L.call(t,r)&&m(s,r,t[r]);if(f)for(var r of f(t))O.call(t,r)&&m(s,r,t[r]);return s},c=(s,t)=>b(s,P(t));import{c as T,j as n,d as g,a as W,T as D,C as E,G as A,r as d,B as y,H as V,b as C,e as M,R as S,f as v}from"./vendor.d3f68011.js";const B=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const e of i)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const e={};return i.integrity&&(e.integrity=i.integrity),i.referrerpolicy&&(e.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?e.credentials="include":i.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(i){if(i.ep)return;i.ep=!0;const e=r(i);fetch(i.href,e)}};B();const H=T({typography:{fontSize:12}}),N=({children:s})=>n(g.WebsocketProvider,{children:W(D,{theme:H,children:[n(E,{}),n(A,{styles:{ul:{paddingLeft:0,marginTop:0}}}),s]})}),k=0,u=1,j="btc_jpy",h={title:{text:"ETH-BTC Market Depth"},xAxis:{minPadding:0,maxPadding:0,plotLines:[{color:"#888",value:.1523,width:1,label:{text:"Actual price",rotation:90}}],title:{text:"Price"}},yAxis:[{lineWidth:1,gridLineWidth:1,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"left",x:8}},{opposite:!0,linkedTo:0,lineWidth:1,gridLineWidth:0,title:void 0,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"right",x:-8}}],legend:{enabled:!1},plotOptions:{area:{fillOpacity:.2,lineWidth:1,step:"center"}},tooltip:{headerFormat:'<span style="font-size=10px;">Price: {point.key}</span><br/>',valueDecimals:2},series:[{name:"Bids",type:"area",data:[],color:"#03a7a8"},{name:"Asks",type:"area",data:[],color:"#fc5857"}]},I=()=>{const s=g.useDepth(j,200),[t,r]=d.exports.useState(h),a=d.exports.useMemo(()=>s.asks.reduce((e,o)=>{const p={price:+o[k],volume:+o[u],stackedVolume:e.length>0?e[e.length-1].stackedVolume+ +o[u]:0};return[...e,p]},[]),[s.asks]),i=d.exports.useMemo(()=>s.bids.reduce((e,o)=>{const p={price:+o[k],volume:+o[u],stackedVolume:e.length>0?e[e.length-1].stackedVolume+ +o[u]:0};return[...e,p]},[]),[s.bids]);return d.exports.useEffect(()=>{r(e=>c(l({},e),{series:[c(l({},h.series[0]),{data:i.map(o=>[+o.price,+o.stackedVolume])}),c(l({},h.series[1]),{data:a.map(o=>[+o.price,+o.stackedVolume])})]}))},[a,i]),n(y,{sx:{display:"flex"},children:n(y,{children:n(V,{highcharts:C,options:t})})})};function R(){return n(N,{children:n(M,{children:n(I,{})})})}S.render(n(v.StrictMode,{children:n(R,{})}),document.getElementById("root"));
